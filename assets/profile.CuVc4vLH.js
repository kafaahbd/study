import{r as i,j as e,N as v,L as N}from"./react-vendor.CjRa_Qoi.js";import{a as b,m as u}from"./vendor.CE3zHwUh.js";import{u as w}from"./study.DHrfcI6T.js";const f=i.createContext(void 0),C=({children:r})=>{const[g,d]=i.useState(null),[n,t]=i.useState(localStorage.getItem("token")),[m,c]=i.useState(!1),a=i.useMemo(()=>{const s=b.create({baseURL:"https://backend-vinr.onrender.com/api"});return s.interceptors.request.use(o=>{const l=localStorage.getItem("token");return l&&(o.headers.Authorization=`Bearer ${l}`),o}),s},[]);i.useEffect(()=>{n&&x()},[n]);const x=async()=>{try{const s=await a.get("/auth/profile");d(s.data)}catch(s){console.error("Profile fetch failed:",s),h()}},y=async(s,o)=>{c(!0);try{const l=await b.post("https://backend-vinr.onrender.com/api/auth/login",{identifier:s,password:o}),{token:p,user:j}=l.data;localStorage.setItem("token",p),t(p),d(j)}catch(l){throw l.response?.data?l.response.data:new Error("Login failed")}finally{c(!1)}},k=async s=>{c(!0);try{return(await b.post("https://backend-vinr.onrender.com/api/auth/register",s)).data}catch(o){throw o.response?.data?o.response.data:new Error("Registration failed")}finally{c(!1)}},h=()=>{localStorage.removeItem("token"),t(null),d(null)};return e.jsx(f.Provider,{value:{user:g,token:n,login:y,register:k,logout:h,isLoading:m},children:r})},S=()=>{const r=i.useContext(f);if(!r)throw new Error("useAuth must be used within AuthProvider");return r},A=()=>{const{user:r,isLoading:g,logout:d}=S(),{t:n,lang:t}=w();if(g)return e.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-green-500"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-4 w-4 bg-green-500 rounded-full animate-pulse"})]})});if(!r)return e.jsx(v,{to:"/login",replace:!0});const m=a=>new Date(a).toLocaleDateString(t==="bn"?"bn-BD":"en-US",{year:"numeric",month:"long",day:"numeric"}),c=a=>({Science:t==="bn"?"বিজ্ঞান":"Science",Arts:t==="bn"?"মানবিক":"Arts",Commerce:t==="bn"?"বাণিজ্য":"Commerce"})[a]||a;return e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-gray-950 py-12 px-4 transition-colors",children:e.jsxs("div",{className:"w-[95%] lg:w-[75%] mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white tracking-tight",children:n("profile.title")}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mt-1",children:t==="bn"?"আপনার ব্যক্তিগত ড্যাশবোর্ড":"Your personal dashboard"})]}),e.jsxs("button",{onClick:d,className:"flex items-center justify-center gap-2 px-6 py-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-red-600 hover:text-white transition-all duration-300 shadow-sm",children:[e.jsx("i",{className:"fas fa-sign-out-alt"}),t==="bn"?"লগ আউট":"Logout"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-800 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-24 bg-gradient-to-r from-green-500 to-emerald-600 opacity-10 dark:opacity-20"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-green-500 to-blue-500 rounded-3xl mx-auto flex items-center justify-center text-white text-4xl font-black shadow-lg shadow-green-500/20 mb-4 border-4 border-white dark:border-gray-800",children:r.name.charAt(0)}),e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white",children:r.name}),e.jsxs("p",{className:"text-green-600 dark:text-blue-400 font-bold text-sm tracking-widest uppercase",children:["@",r.username]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-800 flex justify-around",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-xs font-black text-gray-400 uppercase tracking-tighter",children:"Level"}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:r.study_level})]}),e.jsx("div",{className:"border-l border-gray-100 dark:border-gray-800"}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-xs font-black text-gray-400 uppercase tracking-tighter",children:"Group"}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:c(r.group)})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:e.jsxs(N,{to:"/exam",className:"p-4 bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 flex items-center gap-4 hover:border-green-500 transition-all group",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 dark:bg-green-900/20 flex items-center justify-center text-green-600",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300 group-hover:text-green-600 transition-colors",children:"My Exams"})]})})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 md:p-10 shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-800",children:[e.jsxs("h3",{className:"text-lg font-black text-gray-900 dark:text-white mb-8 flex items-center gap-3",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-sm",children:e.jsx("i",{className:"fas fa-info-circle text-green-600"})}),t==="bn"?"একাউন্ট ইনফরমেশন":"Account Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-8 gap-x-12",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:n("profile.email")}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-envelope text-gray-300"}),e.jsx("p",{className:"font-bold text-gray-700 dark:text-gray-200 truncate",children:r.email})]})]}),r.phone&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:n("profile.phone")}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-phone text-gray-300"}),e.jsx("p",{className:"font-bold text-gray-700 dark:text-gray-200",children:r.phone})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:n("profile.memberSince")}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-calendar-alt text-gray-300"}),e.jsx("p",{className:"font-bold text-gray-700 dark:text-gray-200",children:m(r.created_at)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-black text-gray-400 uppercase tracking-widest mb-2",children:"Account Status"}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-[10px] font-black uppercase rounded-full border border-green-200 dark:border-green-800",children:"Active Participant"})})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[{label:t==="bn"?"মোট পরীক্ষা":"Exams Taken",val:"00",color:"text-blue-500"},{label:t==="bn"?"গড় স্কোর":"Avg Score",val:"0%",color:"text-purple-500"},{label:t==="bn"?"স্টাডি টাইম":"Study Time",val:"0h",color:"text-orange-500"}].map((a,x)=>e.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-[2rem] border border-gray-100 dark:border-gray-800 shadow-sm text-center",children:[e.jsx("span",{className:"text-2xl font-black block mb-1 text-gray-900 dark:text-white tracking-tighter",children:a.val}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a.color}`,children:a.label})]},x))})]})]}),e.jsx("div",{className:"mt-12 bg-gray-100 dark:bg-gray-900/50 rounded-3xl p-6 text-center border border-dashed border-gray-300 dark:border-gray-800",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 font-medium italic",children:t==="bn"?"প্রোফাইল এডিট এবং আরও অপশন শীঘ্রই যুক্ত করা হবে।":"Profile editing and more options will be added soon."})})]})})},_=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{C as A,_ as P,S as u};
