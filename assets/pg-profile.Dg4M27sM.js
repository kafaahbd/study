import{r as e,j as r,N as a,L as t}from"./react-core.Cc5WigAV.js";import{u as s}from"./pages-common.DWLDe7X9.js";import{u as d}from"./pg-verifycode.BYyTRZIl.js";import{g as l}from"./pg-examcenter.BVsx35M6.js";import{m as n}from"./animations.fofoXYl8.js";import"./network.B5K7MVzt.js";import"./vendor.CWqc-RfF.js";import"./math-render.D1BZSumb.js";import"./pdf-gen.DiIMYWWv.js";const i=()=>{const{user:i,isLoading:o,logout:c}=s(),{t:x,lang:g}=d(),[m,b]=e.useState([]),[h,p]=e.useState(!0);if(e.useEffect(()=>{i&&(async()=>{try{const e=await l();b(e)}catch(e){}finally{p(!1)}})()},[i]),o)return r.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-green-500"}),r.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 h-4 w-4 bg-green-500 rounded-full animate-pulse"})]})});if(!i)return r.jsx(a,{to:"/login",replace:!0});const y=m.length,u=y>0?Math.round(m.reduce((e,r)=>e+r.score/r.total_questions*100,0)/y):0;return r.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-gray-900 py-12 px-4 transition-colors",children:r.jsxs("div",{className:"w-[95%] lg:w-[75%] mx-auto",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white tracking-tight",children:x("profile.title")}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mt-1",children:"bn"===g?"আপনার ব্যক্তিগত ড্যাশবোর্ড":"Your personal dashboard"})]}),r.jsxs("button",{onClick:c,className:"flex items-center justify-center gap-2 px-6 py-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-red-600 hover:text-white transition-all duration-300 shadow-sm",children:[r.jsx("i",{className:"fas fa-sign-out-alt"}),"bn"===g?"লগ আউট":"Logout"]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-800 text-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 w-full h-24 bg-gradient-to-r from-green-500 to-emerald-600 opacity-10 dark:opacity-20"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-green-500 to-blue-500 rounded-3xl mx-auto flex items-center justify-center text-white text-4xl font-black shadow-lg shadow-green-500/20 mb-4 border-4 border-white dark:border-gray-800",children:i.name.charAt(0)}),r.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white",children:i.name}),r.jsxs("p",{className:"text-green-600 dark:text-blue-400 font-bold text-sm tracking-widest uppercase",children:["@",i.username]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-800 flex justify-around",children:[r.jsxs("div",{children:[r.jsx("span",{className:"block text-xs font-black text-gray-400 uppercase tracking-tighter",children:"Level"}),r.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:i.study_level})]}),r.jsx("div",{className:"border-l border-gray-100 dark:border-gray-800"}),r.jsxs("div",{children:[r.jsx("span",{className:"block text-xs font-black text-gray-400 uppercase tracking-tighter",children:"Group"}),r.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:(j=i.group,{Science:"bn"===g?"বিজ্ঞান":"Science",Arts:"bn"===g?"মানবিক":"Arts",Commerce:"bn"===g?"বাণিজ্য":"Commerce"}[j]||j)})]})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.jsxs(t,{to:"/exam",className:"p-4 bg-white dark:bg-gray-900 rounded-2xl border border-gray-100 dark:border-gray-800 flex items-center gap-4 hover:border-green-500 transition-all group",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 dark:bg-green-900/20 flex items-center justify-center text-green-600",children:r.jsx("i",{className:"fas fa-edit"})}),r.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300 group-hover:text-green-600 transition-colors",children:"Start New Exam"})]})})]}),r.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[{label:"bn"===g?"মোট পরীক্ষা":"Exams Taken",val:y.toString().padStart(2,"0"),color:"text-blue-500"},{label:"bn"===g?"গড় স্কোর":"Avg Score",val:`${u}%`,color:"text-purple-500"},{label:"bn"===g?"অ্যাক্টিভ দিন":"Active Days",val:y>0?"01":"00",color:"text-orange-500"}].map((e,a)=>r.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-[2rem] border border-gray-100 dark:border-gray-800 shadow-sm text-center",children:[r.jsx("span",{className:"text-2xl font-black block mb-1 text-gray-900 dark:text-white tracking-tighter",children:h?"...":e.val}),r.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${e.color}`,children:e.label})]},a))}),r.jsxs(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white dark:bg-gray-900 rounded-[2.5rem] p-8 shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-800",children:[r.jsxs("h3",{className:"text-lg font-black text-gray-900 dark:text-white mb-6 flex items-center gap-3",children:[r.jsx("i",{className:"fas fa-history text-green-600"}),"bn"===g?"সাম্প্রতিক পরীক্ষা":"Recent Exams"]}),r.jsx("div",{className:"space-y-4",children:h?r.jsx("p",{className:"text-center py-4 text-gray-400",children:"Loading activity..."}):m.length>0?m.slice(0,5).map((e,a)=>{return r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800/50 rounded-2xl border border-gray-100 dark:border-gray-800",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-black text-gray-800 dark:text-gray-200",children:e.subject_name}),r.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:(t=e.created_at,new Date(t).toLocaleDateString("bn"===g?"bn-BD":"en-US",{year:"numeric",month:"long",day:"numeric"}))})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-black text-green-600",children:[e.score,"/",e.total_questions]}),r.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter",children:[Math.round(e.score/e.total_questions*100),"%"]})]})]},a);var t}):r.jsxs("div",{className:"text-center py-10",children:[r.jsx("p",{className:"text-gray-400 font-medium",children:"bn"===g?"এখনো কোনো পরীক্ষা দেওয়া হয়নি":"No exams taken yet"}),r.jsx(t,{to:"/exam",className:"text-green-500 font-bold text-sm underline mt-2 block",children:"Take your first exam"})]})})]})]})]}),r.jsx("div",{className:"mt-12 bg-gray-100 dark:bg-gray-900/50 rounded-3xl p-6 text-center border border-dashed border-gray-300 dark:border-gray-800",children:r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 font-medium italic",children:"bn"===g?"প্রোফাইল এডিট এবং পারফরম্যান্স গ্রাফ শীঘ্রই যুক্ত করা হবে।":"Profile editing and performance graphs will be added soon."})})]})});var j};export{i as default};
