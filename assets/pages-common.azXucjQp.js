import{r as e,j as a,u as r,L as t}from"./react-core.Cc5WigAV.js";import{u as s}from"./pg-verifycode.BbbO2WN4.js";import{a as l}from"./network.B5K7MVzt.js";import{m as n}from"./animations.fofoXYl8.js";const o=e.createContext(void 0),i=({children:r})=>{const[t,s]=e.useState(null),[n,i]=e.useState(localStorage.getItem("token")),[d,c]=e.useState(!1),m=e.useMemo(()=>{const e=l.create({baseURL:"https://backend-vinr.onrender.com/api"});return e.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization=`Bearer ${a}`),e}),e},[]);e.useEffect(()=>{n&&x()},[n]);const x=async()=>{try{const e=await m.get("/auth/profile");s(e.data)}catch(e){g()}},g=()=>{localStorage.removeItem("token"),i(null),s(null)};return a.jsx(o.Provider,{value:{user:t,token:n,login:async(e,a)=>{c(!0);try{const r=await l.post("https://backend-vinr.onrender.com/api/auth/login",{identifier:e,password:a}),{token:t,user:n}=r.data;localStorage.setItem("token",t),i(t),s(n)}catch(r){if(r.response?.data)throw r.response.data;throw new Error("Login failed")}finally{c(!1)}},register:async e=>{c(!0);try{return(await l.post("https://backend-vinr.onrender.com/api/auth/register",e)).data}catch(a){if(a.response?.data)throw a.response.data;throw new Error("Registration failed")}finally{c(!1)}},logout:g,isLoading:d},children:r})},d=()=>{const a=e.useContext(o);if(!a)throw new Error("useAuth must be used within AuthProvider");return a},c=()=>{const{t:o,lang:i}=s(),{login:c,isLoading:m,user:x}=d(),g=r(),[u,b]=e.useState(""),[h,p]=e.useState(""),[f,y]=e.useState(""),[k,j]=e.useState(!1),[w,v]=e.useState(""),[N,S]=e.useState(!1),[C,P]=e.useState("");e.useEffect(()=>{x&&g("/")},[x,g]);return a.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-gray-800 flex items-center justify-center px-4 py-12 transition-colors",children:a.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx(t,{to:"/",className:"inline-block",children:a.jsx("img",{src:"https://raw.githubusercontent.com/kafaahbd/kafaah/refs/heads/main/pics/kafaah.png",alt:"Kafa'ah",className:"h-16 mx-auto mb-4"})}),a.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:o("modal.login")}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 font-medium italic",children:"bn"===i?"স্বাগতম! আপনার জ্ঞানযাত্রা শুরু হোক।":"Welcome back! Let your journey continue."})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] shadow-2xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-800 p-8 md:p-10 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-green-500 to-blue-500"}),C&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-2xl flex items-center gap-3 text-green-700 dark:text-green-400 text-sm font-bold",children:[a.jsx("i",{className:"fas fa-check-circle text-lg"}),C]}),k?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center p-4 bg-amber-50 dark:bg-amber-900/20 rounded-2xl border border-amber-100 dark:border-amber-800",children:[a.jsx("i",{className:"fas fa-envelope-open-text text-amber-500 text-3xl mb-3"}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium leading-relaxed",children:o("modal.verificationRequired")})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsx("button",{onClick:async()=>{S(!0),P(""),y("");try{await l.post("https://backend-vinr.onrender.com/api/auth/resend-code",{email:w}),P(o("modal.verificationEmailResent"))}catch(e){y(e.response?.data?.message||o("modal.resendFailed"))}finally{S(!1)}},disabled:N,className:"w-full h-12 bg-gray-900 dark:bg-blue-600 text-white rounded-2xl font-bold hover:opacity-90 transition shadow-lg disabled:opacity-50",children:N?a.jsx("i",{className:"fas fa-spinner fa-spin"}):o("modal.resendVerification")}),a.jsx("button",{onClick:()=>g("/verify-code",{state:{email:w}}),className:"w-full h-12 bg-white dark:bg-transparent border-2 border-gray-100 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-2xl font-bold hover:bg-gray-50 transition",children:o("modal.enterCode")||"Enter Code"})]})]}):a.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(""),j(!1),P("");try{await c(u,h),g("/")}catch(a){a.response?.data?.needsVerification?(j(!0),v(a.response?.data?.email||u),y(o("modal.pleaseVerifyEmail"))):y(a.message)}},className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 mb-2 ml-1",children:o("modal.emailOrUsername")}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-4 flex items-center text-gray-400",children:a.jsx("i",{className:"fas fa-user"})}),a.jsx("input",{type:"text",value:u,onChange:e=>b(e.target.value),required:!0,className:"w-full pl-11 pr-4 py-4 bg-slate-50 dark:bg-gray-800 border-none rounded-2xl focus:ring-2 focus:ring-green-500/50 dark:focus:ring-blue-500/50 dark:text-white transition-all outline-none font-medium",placeholder:o("modal.emailOrUsernamePlaceholder")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 mb-2 ml-1",children:o("modal.password")}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute inset-y-0 left-0 pl-4 flex items-center text-gray-400",children:a.jsx("i",{className:"fas fa-lock"})}),a.jsx("input",{type:"password",value:h,onChange:e=>p(e.target.value),required:!0,className:"w-full pl-11 pr-4 py-4 bg-slate-50 dark:bg-gray-800 border-none rounded-2xl focus:ring-2 focus:ring-green-500/50 dark:focus:ring-blue-500/50 dark:text-white transition-all outline-none font-medium",placeholder:"••••••••"})]})]})]}),f&&a.jsxs(n.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"p-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 text-red-700 dark:text-red-400 text-xs font-bold rounded-r-xl",children:[a.jsx("i",{className:"fas fa-circle-exclamation mr-2"}),f]}),a.jsx("button",{type:"submit",disabled:m,className:"w-full py-4 bg-gradient-to-r from-green-600 to-green-500 dark:from-blue-700 dark:to-blue-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-green-500/20 dark:shadow-blue-500/20 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50",children:m?a.jsx("i",{className:"fas fa-spinner fa-spin text-xl"}):o("modal.login")})]}),a.jsx("div",{className:"mt-10 pt-8 border-t border-gray-50 dark:border-gray-800 text-center",children:a.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:[o("modal.noAccount")," ",a.jsx(t,{to:"/signup",className:"text-green-600 dark:text-blue-400 font-black hover:underline underline-offset-4",children:o("modal.createAccount")})]})})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs(t,{to:"/",className:"text-xs font-bold text-gray-400 uppercase tracking-widest hover:text-gray-600 transition",children:[a.jsx("i",{className:"fas fa-house mr-2"})," Back to Home"]})})]})})},m=()=>{const{t:l,lang:o}=s(),{register:i,isLoading:c,user:m}=d(),x=r(),[g,u]=e.useState({username:"",name:"",email:"",phone:"",study_level:"SSC",group:"Science",password:"",confirmPassword:""}),[b,h]=e.useState("");e.useEffect(()=>{m&&x("/")},[m,x]);const p=e=>{u({...g,[e.target.name]:e.target.value})};return a.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-gray-800 flex items-center justify-center px-4 py-16 transition-colors",children:a.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-2xl w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(t,{to:"/",className:"inline-block mb-4 hover:scale-105 transition-transform",children:a.jsx("img",{src:"https://raw.githubusercontent.com/kafaahbd/kafaah/refs/heads/main/pics/kafaah.png",alt:"Kafa'ah",className:"h-14 mx-auto"})}),a.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white tracking-tight",children:l("modal.signUp")}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 font-medium italic text-sm",children:"bn"===o?"কাফআহ পরিবারের সদস্য হয়ে আপনার যাত্রা শুরু করুন":"Join the Kafa'ah family and start your journey"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] shadow-2xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-800 p-6 md:p-10 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/5 dark:bg-blue-500/5 rounded-full -mr-16 -mt-16 blur-3xl"}),b&&a.jsxs(n.div,{initial:{x:-20},animate:{x:0},className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 text-red-700 dark:text-red-400 text-xs font-bold rounded-r-xl",children:[a.jsx("i",{className:"fas fa-exclamation-triangle mr-2"})," ",b]}),a.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),g.password===g.confirmPassword)if(g.password.length<6)h(l("modal.passwordTooShort"));else try{const{confirmPassword:e,...a}=g;await i(a),x("/verify-code",{state:{email:g.email}})}catch(a){h(a.message)}else h(l("modal.passwordsDoNotMatch"))},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400 mb-2 border-b border-gray-100 dark:border-gray-800 pb-1",children:"bn"===o?"ব্যক্তিগত তথ্য":"Personal Info"}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 ml-1 mb-1 block",children:l("modal.username")}),a.jsx("input",{type:"text",name:"username",value:g.username,onChange:p,required:!0,className:"w-full px-4 py-3 bg-slate-50 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-green-500/50 dark:focus:ring-blue-500/50 dark:text-white transition-all outline-none font-medium text-sm",placeholder:"johndoe123"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 ml-1 mb-1 block",children:l("modal.fullName")}),a.jsx("input",{type:"text",name:"name",value:g.name,onChange:p,required:!0,className:"w-full px-4 py-3 bg-slate-50 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-green-500/50 dark:focus:ring-blue-500/50 dark:text-white transition-all outline-none font-medium text-sm",placeholder:"John Doe"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 ml-1 mb-1 block",children:l("modal.email")}),a.jsx("input",{type:"email",name:"email",value:g.email,onChange:p,required:!0,className:"w-full px-4 py-3 bg-slate-50 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-green-500/50 dark:focus:ring-blue-500/50 dark:text-white transition-all outline-none font-medium text-sm",placeholder:"example@email.com"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-gray-400 mb-2 border-b border-gray-100 dark:border-gray-800 pb-1",children:"bn"===o?"শিক্ষাগত তথ্য":"Academic Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 ml-1 mb-1 block",children:l("modal.studyLevel")}),a.jsxs("select",{name:"study_level",value:g.study_level,onChange:p,className:"w-full px-4 py-3 bg-slate-50 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-green-500/50 dark:focus:ring-blue-500/50 dark:text-white transition-all outline-none font-bold text-sm",children:[a.jsx("option",{value:"SSC",children:"SSC"}),a.jsx("option",{value:"HSC",children:"HSC"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 ml-1 mb-1 block",children:l("modal.group")}),a.jsxs("select",{name:"group",value:g.group,onChange:p,className:"w-full px-4 py-3 bg-slate-50 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-green-500/50 dark:focus:ring-blue-500/50 dark:text-white transition-all outline-none font-bold text-sm",children:[a.jsx("option",{value:"Science",children:l("modal.science")}),a.jsx("option",{value:"Arts",children:l("modal.arts")}),a.jsx("option",{value:"Commerce",children:l("modal.commerce")})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 ml-1 mb-1 block",children:l("modal.password")}),a.jsx("input",{type:"password",name:"password",value:g.password,onChange:p,required:!0,minLength:6,className:"w-full px-4 py-3 bg-slate-50 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-green-500/50 dark:focus:ring-blue-500/50 dark:text-white transition-all outline-none font-medium text-sm",placeholder:"••••••••"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 ml-1 mb-1 block",children:l("modal.confirmPassword")}),a.jsx("input",{type:"password",name:"confirmPassword",value:g.confirmPassword,onChange:p,required:!0,className:"w-full px-4 py-3 bg-slate-50 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-green-500/50 dark:focus:ring-blue-500/50 dark:text-white transition-all outline-none font-medium text-sm",placeholder:"••••••••"})]})]})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{type:"submit",disabled:c,className:"w-full py-4 bg-gradient-to-r from-green-600 to-green-500 dark:from-blue-700 dark:to-blue-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-green-500/20 dark:shadow-blue-500/20 hover:scale-[1.01] active:scale-[0.99] transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:c?a.jsx("i",{className:"fas fa-spinner fa-spin"}):a.jsxs(a.Fragment,{children:[l("modal.signUp"),a.jsx("i",{className:"fas fa-arrow-right text-xs"})]})})})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-gray-50 dark:border-gray-800 text-center",children:a.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm",children:[l("modal.alreadyHaveAccount")," ",a.jsx(t,{to:"/login",className:"text-green-600 dark:text-blue-400 font-black hover:underline underline-offset-4",children:l("modal.login")})]})})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx(t,{to:"/",className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em] hover:text-gray-600 transition",children:"© 2026 Kafa'ah Platform"})})]})})},x=()=>{const{t:e,lang:r}=s();return a.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-slate-50 dark:bg-gray-800 transition-colors overflow-hidden",children:a.jsxs("div",{className:"relative max-w-2xl w-full text-center",children:[a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-green-500/10 dark:bg-blue-500/10 rounded-full blur-3xl -z-10"}),a.jsx(n.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:a.jsx("h1",{className:"text-[10rem] md:text-[15rem] font-black leading-none tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-green-600 to-green-100 dark:from-blue-600 dark:to-gray-900 opacity-20 dark:opacity-40",children:"404"})}),a.jsxs(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"relative -mt-24 md:-mt-32 bg-white/60 dark:bg-gray-900/60 backdrop-blur-xl p-8 md:p-12 rounded-[3rem] border border-white/50 dark:border-gray-800 shadow-2xl shadow-gray-200/50 dark:shadow-none",children:[a.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-amber-50 dark:bg-amber-900/20 text-amber-500 border border-amber-100 dark:border-amber-800 animate-bounce",children:a.jsx("i",{className:"fas fa-map-signs text-3xl"})}),a.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-4",children:e("notFound.title")||("bn"===r?"রাস্তা হারিয়ে ফেলেছেন?":"Are you lost?")}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium mb-10 max-w-sm mx-auto leading-relaxed",children:e("notFound.message")||("bn"===r?"দুঃখিত, আপনি যে পাতাটি খুঁজছেন সেটি খুঁজে পাওয়া যায়নি অথবা সরিয়ে ফেলা হয়েছে।":"The page you are looking for does not exist or has been moved to a new destination.")}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[a.jsx(t,{to:"/",className:"w-full sm:w-auto px-10 py-4 bg-gray-900 dark:bg-blue-600 text-white rounded-2xl font-black uppercase text-xs tracking-[0.2em] shadow-xl hover:scale-105 active:scale-95 transition-all",children:e("notFound.goHome")||"Go Home"}),a.jsx("button",{onClick:()=>window.history.back(),className:"w-full sm:w-auto px-10 py-4 bg-white dark:bg-transparent border-2 border-gray-100 dark:border-gray-800 text-gray-700 dark:text-gray-300 rounded-2xl font-black uppercase text-xs tracking-[0.2em] hover:bg-gray-50 dark:hover:bg-gray-800 transition-all",children:"bn"===r?"পেছনে যান":"Go Back"})]})]}),a.jsx(n.div,{animate:{y:[0,-20,0],rotate:[0,10,0]},transition:{duration:5,repeat:1/0},className:"absolute -top-10 left-10 text-green-300 dark:text-blue-900/30 text-6xl -z-10 opacity-50",children:a.jsx("i",{className:"fas fa-book-open"})}),a.jsx(n.div,{animate:{y:[0,20,0],rotate:[0,-10,0]},transition:{duration:4,repeat:1/0,delay:1},className:"absolute -bottom-10 right-10 text-green-300 dark:text-blue-900/30 text-6xl -z-10 opacity-50",children:a.jsx("i",{className:"fas fa-graduation-cap"})})]})})};export{i as A,c as L,x as N,m as S,d as u};
